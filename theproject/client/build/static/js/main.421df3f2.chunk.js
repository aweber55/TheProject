(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(63)},29:function(e,t,a){},31:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(22),c=a.n(r),u=(a(29),a(23)),o=a(8),i=a(9),s=a(12),m=a(10),d=a(13),h=(a(31),a(67)),p=a(66),E=a(65),f=a(7),g=a.n(f),b=(a(52),function(){return l.a.createElement("div",{className:"jumbotron jumbotron-fluid"},l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"display-4"},"Dinner and a Beer"),l.a.createElement("p",{className:"lead"},"Pair up your favorites")))}),v="https://www.food2fork.com/api/search?key=".concat("cb2e66a6abeb3b3928d0991bd137e659"),w={getFood:function(e){return console.log(e),g.a.get("".concat(v,"&q='").concat(e,"'&count=4"))},getBeer:function(e){return g.a.get("".concat("https://api.punkapi.com/v2/beers","?food=").concat(e))}},S=function(e){var t=e.size,a=e.children;return l.a.createElement("div",{className:t.split(" ").map(function(e){return"col-"+e}).join(" ")},a)},C=function(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)},y=function(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)},N=function(e){return l.a.createElement("form",{className:"search"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"food"},"Food:"),l.a.createElement("input",{value:e.search,onChange:e.handleInputChange,name:"food",list:"foods",type:"text",className:"form-control",placeholder:"type in your food",id:"food"}),l.a.createElement("button",{type:"submit",onClick:e.handleFormSubmit,className:"btn btn-success"},"Search")))},k=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={recipes:[],beer:[],search:"",ingredients:"",title:"",food_pairing:""},a.recipeSave=function(e){a.state.recipes.find(function(t){return t.recipe_id===e});console.log(e)},a.getFood=function(e){a.setState({search:e}),w.getFood(a.state.search).then(function(e){console.log(e.data),a.setState({recipes:e.data.recipes})})},a.getBeer=function(e){a.setState({search:e}),w.getBeer(a.state.search).then(function(e){console.log(e.data[0].food_pairing)})},a.handleInputChange=function(e){a.setState({search:e.target.value})},a.handleFormSubmit=function(e){e.preventDefault(),a.getFood(),a.getBeer()},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(C,null,l.a.createElement(b,null),l.a.createElement("div",{className:"main"},l.a.createElement(y,null,l.a.createElement(S,{size:"col-4"},l.a.createElement("div",{className:"results"},l.a.createElement(N,{handleFormSubmit:this.handleFormSubmit,handleInputChange:this.handleInputChange}),l.a.createElement("div",null,this.state.recipes.map(function(t){return l.a.createElement("li",{onClick:e.recipeSave,key:t.recipe_id,id:t.recipe_id},"  ",t.title)})))))))}}]),t}(l.a.Component),I=(a(54),a(64)),j=function(e){return l.a.createElement(C,null,l.a.createElement(y,null,l.a.createElement(S,{size:"col-6"},l.a.createElement("div",null,l.a.createElement("h1",null,"SIGN IN"),l.a.createElement(I.a,{to:"/signup"},"Go to sign up"),l.a.createElement("form",null,l.a.createElement("label",null,"Email"),l.a.createElement("br",null),l.a.createElement("input",{value:e.username,onChange:e.handleChange,name:"username",type:"email",placeholder:"example@email.com"}),l.a.createElement("br",null),l.a.createElement("label",null,"Password"),l.a.createElement("br",null),l.a.createElement("input",{name:"password",type:"password",value:e.password,onChange:e.handleChange}),l.a.createElement("br",null),l.a.createElement("button",{type:"submit",name:"/auth/signin",onClick:e.handleSubmit},"Sign In"))))))},O=(a(58),function(e){return l.a.createElement("div",null,l.a.createElement("h1",null,"SIGN UP"),l.a.createElement(I.a,{to:"/"},"Go to sign in"),l.a.createElement("form",null,l.a.createElement("label",null,"Email"),l.a.createElement("br",null),l.a.createElement("input",{value:e.username,onChange:e.handleChange,name:"username",type:"email",placeholder:"example@email.com"}),l.a.createElement("br",null),l.a.createElement("label",null,"Password"),l.a.createElement("br",null),l.a.createElement("input",{name:"password",type:"password",value:e.password,onChange:e.handleChange}),l.a.createElement("br",null),l.a.createElement("button",{type:"submit",name:"/auth/signup",onClick:e.handleSubmit},"Sign Up")))}),A=(a(60),function(e){return l.a.createElement("ul",{className:"nav nav-tabs"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link active",href:"/"},"Home")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"/Main"},"Main")))}),F=function(e){return l.a.createElement(C,null,l.a.createElement(A,null),l.a.createElement(y,null,l.a.createElement(S,{size:"col-4"},l.a.createElement("div",{className:"home"},l.a.createElement("h1",null,"You should only see this if you are logged in!"),l.a.createElement("p",null,e.auth.username),l.a.createElement("button",{onClick:e.handleLogout},"Log Out")))))},x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={username:"",password:"",auth:{userId:"",username:"",isAuthenticated:!1}},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(u.a)({},n,l))},a.handleSubmit=function(e){e.preventDefault();var t={username:a.state.username,password:a.state.password};a.setState({username:"",password:""});var n=e.target.name;g.a.post(n,t).then(function(e){if(e.data.isAuthenticated){var t=e.data,n=t.userId,l=t.isAuthenticated,r=t.username;a.setState({auth:{userId:n,isAuthenticated:l,username:r}})}})},a.handleLogout=function(e){e.preventDefault(),g.a.get("/auth/logout").then(function(e){a.setState({auth:{userId:"",username:"",isAuthenticated:!1}})})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;g.a.get("/auth/isAuthenticated").then(function(t){var a=t.data,n=a.userId,l=a.isAuthenticated,r=a.username;e.setState({auth:{userId:n,isAuthenticated:l,username:r}})})}},{key:"render",value:function(){var e=this,t=this.state.auth.isAuthenticated;return l.a.createElement(h.a,null,l.a.createElement("div",null,l.a.createElement(p.a,{exact:!0,path:"/",render:function(){return t?l.a.createElement(E.a,{to:"/home"}):l.a.createElement(j,{handleChange:e.handleChange,handleSubmit:e.handleSubmit,email:e.state.email,password:e.state.password})}}),l.a.createElement(p.a,{exact:!0,path:"/signup",render:function(){return t?l.a.createElement(E.a,{to:"/home"}):l.a.createElement(O,{handleChange:e.handleChange,handleSubmit:e.handleSubmit,email:e.state.email,password:e.state.password})}}),l.a.createElement(p.a,{exact:!0,path:"/home",render:function(){return t?l.a.createElement(F,{handleLogout:e.handleLogout,auth:e.state.auth}):l.a.createElement(E.a,{to:"/"})}}),l.a.createElement(p.a,{exact:!0,path:"/main",component:k})))}}]),t}(n.Component);c.a.render(l.a.createElement(x,null),document.getElementById("root"))}},[[24,2,1]]]);
//# sourceMappingURL=main.421df3f2.chunk.js.map